# Корректность программ. Эталоны и методы проверки корректности

## Теоретическая часть.

### 1. Корректность
**Определение корректности программы**: Программа считается корректной, если она соответствует своей спецификации - выполняет именно то, что от нее ожидается согласно формальному описанию ее поведения.

**Отличие от надежности**: 


| **Критерий**               | **Корректность**                          | **Надежность**                          |  
|----------------------------|-------------------------------------------------------|------------------------------------------------------|  
| **Определение**            | Соответствие программы её формальной спецификации.    | Способность программы работать без сбоев в различных условиях, включая нештатные. |  
| **Основной фокус**         | Результаты работы при **валидных входных данных**.     | Устойчивость к **невалидным данным** и внешним ошибкам. |  
| **Требования**             | Программа должна **точно выполнять** заявленные функции. | Программа должна **не падать** и обрабатывать ошибки. |  

**Пример**: 
Программа, которая всегда возвращает 0 вместо вычисления суммы чисел, может быть надежной (не падает), но некорректной.

### 2. Эталоны (спецификации) корректности:
**Спецификация программы** - формальное описание того, что программа должна делать, включая входные условия, выходные результаты и другие требования.

**Виды спецификаций**:
| **Тип спецификации**      | **Описание**                                                                 | **Пример для функции**                                                                 |
|---------------------------|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| **Функциональные требования** | Описание того, что делает программа.                                        | "Функция вычисляет среднее арифметическое положительных чисел в списке".              |
| **Предусловия**           | Условия, которые должны быть выполнены перед вызовом функции.               | "`numbers` — список чисел (int/float), возможно пустой".                              |
| **Постусловия**           | Гарантии, которые функция обеспечивает после выполнения (если предусловия выполнены). | "Возвращает среднее положительных чисел или `0`, если таких чисел нет".               |
| **Инварианты**            | Условия, истинные на протяжении всей работы функции (например, в цикле).    | "После каждой итерации `total` = сумма всех обработанных положительных чисел".        |

- Предусловия - условия, которые должны быть истинны перед вызовом
- Постусловия - что гарантируется после выполнения
- Инварианты - условия, сохраняющиеся в течение выполнения

**Для функции calculate_positive_average**:
- Предусловие: `numbers` является списком чисел (int или float)
- Постусловие: возвращает среднее положительных чисел или 0, если таких нет

### 3. Методы проверки корректности
**Тестирование**:
- Суть: выполнение программы на конкретных входных данных и проверка результатов
- Плюсы: простота, наглядность
- Минусы: проверяет только конкретные случаи
- Тест-кейс: конкретный набор входных данных и ожидаемых результатов

**Статический анализ**:
- Суть: анализ кода без его выполнения
- Может выявить: синтаксические ошибки, потенциальные ошибки выполнения
- Пример: pylint, mypy

**Формальные методы**:
- Суть: математическое доказательство корректности
- Инвариант цикла - условие, истинное перед каждой итерацией

**Сравнение**:
- Для небольшой функции лучше всего подходит тестирование
- Для большой системы - комбинация методов, включая статический анализ


