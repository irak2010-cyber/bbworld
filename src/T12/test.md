# Применение отладчиков и дизассемблера

### **1. Основные понятия**  

#### **1. Что такое отладчик и для чего он используется?**  
**Отладчик** — это инструмент для пошагового выполнения программы, анализа её состояния (значений переменных, стека вызовов, регистров) и поиска ошибок.  
Используется для:  
- Поиска багов (логических ошибок, падений, утечек памяти).  
- Анализа работы программы в реальном времени.  
- Обратной разработки (reverse engineering).  

#### **2. В чем разница между отладчиком и дизассемблером?**  
- **Отладчик** позволяет динамически анализировать выполнение программы (ставить брейкпоинты, менять значения переменных, выполнять код по шагам).  
- **Дизассемблер** преобразует машинный код в ассемблерный (статический анализ), но не выполняет программу.  

#### **3. Какие типы ошибок можно найти с помощью отладчика?**  
- Логические ошибки (неправильные условия, бесконечные циклы).  
- Ошибки сегментации (обращение к несуществующей памяти).  
- Деление на ноль.  
- Утечки памяти.  
- Неправильные значения переменных.  

#### **4. Что такое точка останова (breakpoint)?**  
**Точка останова (breakpoint)** — это метка в коде, при достижении которой программа приостанавливается, позволяя изучить её состояние (значения переменных, стек вызовов).  


### **2. Работа с отладчиком**  

#### **5. Как запустить программу в режиме отладки в Visual Studio?**  
1. Открыть проект.  
2. Нажать **F5** (Start Debugging) или **F10/F11** (Step Over/Into).  
3. Можно поставить брейкпоинт (кликнуть слева от строки кода или нажать **F9**).  

#### **6. Какие основные команды отладчика вы знаете?**  
- **Continue (F5)** — продолжить выполнение до следующего брейкпоинта.  
- **Step Into (F11)** — войти в функцию (если возможно).  
- **Step Over (F10)** — выполнить текущую строку, не заходя в функции.  
- **Step Out (Shift+F11)** — выйти из текущей функции.  

#### **7. Как просмотреть значения переменных во время отладки?**  
- Навести курсор на переменную (подсказка).  
- Использовать **Watch-окно** (вручную добавить переменные).  
- **Locals** — автоматический вывод локальных переменных.  

#### **8. Что такое Watch-окно в отладчике? Как его использовать?**  
**Watch-окно** позволяет отслеживать значения переменных/выражений вручную.  
- **Добавление**: Ввести имя переменной или выражение (например, `x + 5`).  
- **Изменение**: Можно менять значения переменных прямо в отладчике.  

#### **9. Как отладить программу, если она падает без сообщения об ошибке?**  
1. Запустить в отладчике (**F5**).  
2. Если программа падает, отладчик остановится на месте ошибки.  
3. Проверить **Call Stack** (стек вызовов) для понимания места ошибки.  
4. Использовать **Memory Dump** (если программа упала вне IDE).  


### **3. Дизассемблирование и анализ кода**  

#### **10. Что такое дизассемблер и какие задачи он решает?**  
**Дизассемблер** преобразует машинный код в ассемблерный.  
Задачи:  
- Анализ работы программы без исходного кода.  
- Поиск уязвимостей, проверок лицензии, алгоритмов.  

#### **11. Какие популярные дизассемблеры вы знаете?**  
- **IDA Pro** (продвинутый, платный).  
- **Ghidra** (бесплатный, от NSA).  
- **radare2** (консольный, для Linux).  
- **Binary Ninja** (альтернатива IDA).  

#### **12. Как найти функцию `main` в дизассемблированной программе?**  
- В **C/C++** программа обычно начинается с `main()`.  
- В **IDA/Ghidra** можно искать `main` в списке функций.  
- В **Windows PE** сначала вызывается `WinMain` или `mainCRTStartup`.  

#### **13. Как дизассемблер помогает найти проверку пароля в программе?**  
1. Поиск строковых констант (`"Password:"`, `"Access denied"`).  
2. Поиск вызовов функций сравнения (`strcmp`, `memcmp`).  
3. Анализ условных переходов (`jz`, `jnz` после сравнения).  

#### **14. Как определить, какие библиотеки использует программа?**  
- **Windows (PE)**: `Dependency Walker`, `PE Explorer`.  
- **Linux (ELF)**: `ldd`, `readelf -d`.  
- В **IDA/Ghidra** можно посмотреть импорты (`Imports`).  


### **4. Практическое применение**  

#### **15. Как с помощью отладчика найти ошибку "деление на ноль"?**  
1. Запустить программу в отладчике (**F5**).  
2. Если программа падает, отладчик остановится на строке с делением.  
3. Проверить значение делителя (если `0` → ошибка).  
4. Просмотреть **Call Stack**, чтобы понять, как переменная стала нулём.  


### **5. Обратная разработка (Reverse Engineering)**  

#### **16. Как восстановить алгоритм программы, если у вас нет исходного кода?**  
1. Дизассемблировать программу (IDA/Ghidra).  
2. Анализировать ключевые функции (ввод, обработка, вывод).  
3. Искать циклы, условия, вызовы API.  
4. Реконструировать логику на псевдокоде.  

#### **17. Как найти ключевые функции в дизассемблированной программе?**  
- Поиск по строкам (`"Login"`, `"Error"`).  
- Анализ вызовов API (`ReadFile`, `Send`).  
- Поиск функций с большим количеством вызовов.  

#### **18. Как определить, использует ли программа шифрование?**  
- Поиск вызовов крипто-функций (`AES`, `RSA`, `SHA`).  
- Анализ случайных больших блоков данных.  
- Поиск импортов из `libcrypto`, `bcrypt.dll`.  

#### **19. Как проанализировать вредоносное ПО с помощью дизассемблера?**  
1. Запустить в песочнице (VirtualBox, Cuckoo).  
2. Дизассемблировать (`Ghidra`, `IDA`).  
3. Искать:  
   - Сетевые подключения (`socket`, `HTTP`).  
   - Инъекции кода (`WriteProcessMemory`).  
   - Шифрование (`AES`, `RC4`).  

### **6. Дополнительные вопросы**  

#### **20. В чем разница между статическим и динамическим анализом?**  
- **Статический анализ** — изучение кода без запуска (дизассемблирование, декомпиляция).  
- **Динамический анализ** — запуск программы в отладчике/песочнице.  

#### **21. Какие этические аспекты нужно учитывать при работе с дизассемблерами и отладчиками?**  
- **Легальность**: Анализ только своего ПО или с разрешения владельца.  
- **Вредоносное ПО**: Изучение только в исследовательских целях.  
- **Ответственность**: Не использовать знания для взлома.  
